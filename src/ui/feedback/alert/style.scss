@use "src/styles/scss/token" as token;
@use "sass:color";

@keyframes alert_fade_in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes alert_slide_up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.alert {
  &_overlay {
    position: fixed;
    inset: 0;
    background: token.$color_overlay;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: token.$z_modal;
    animation: alert_fade_in token.$transition_base;
  }

  &_modal {
    background: token.$color_background;
    border-radius: token.$radius_lg;
    min-width: 320px;
    max-width: 480px;
    box-shadow: token.$shadow_xl;
    animation: alert_slide_up token.$transition_slow;
    overflow: hidden;
  }

  &_title {
    @include token.text_lg;
    font-weight: token.$font_weight_semibold;
    color: token.$color_info;
    padding: token.$spacing_md token.$spacing_xl token.$spacing_xs;
  }

  &_message {
    @include token.body_regular;
    color: token.$color_text_secondary;
    padding: token.$spacing_xl;
    line-height: token.$line_height_relaxed;
  }

  &_actions {
    display: flex;
    gap: token.$spacing_sm;
    align-items: center;
    padding: 0 token.$spacing_xl token.$spacing_xl;

    &_left {
      justify-content: flex-start;
    }

    &_center {
      justify-content: center;
    }

    &_right {
      justify-content: flex-end;
    }
  }

  &_button {
    min-width: 80px;
    padding: 10px 24px;
    border-radius: token.$radius_sm;
    font-weight: token.$font_weight_semibold;
    cursor: pointer;
    border: 1px solid transparent;
    line-height: token.$line_height_normal;

    transition:
            background token.$transition_base,
            border-color token.$transition_base,
            box-shadow token.$transition_base,
            transform token.$transition_base;

    &:focus-visible {
      outline: none;
      box-shadow: 0 0 0 3px rgba(token.$color_primary, 0.15);
    }

    &:active:not(:disabled) {
      transform: scale(0.98);
    }

    &:disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }

    &_cancel {
      background: token.$color_background;
      border-color: token.$color_border;
      color: token.$color_text_primary;

      &:hover:not(:disabled) {
        background: token.$color_background_secondary;
        border-color: token.$color_border_light;
      }
    }

    &_confirm {
      color: token.$text_inverse;
    }
  }

  &_variant_info {
    .alert_title {
      color: token.$color_info;
    }

    .alert_button_confirm {
      background: token.$color_info;
      border-color: token.$color_info;

      &:hover:not(:disabled) {
        background: color.adjust(token.$color_info, $lightness: -6%);
        border-color: color.adjust(token.$color_info, $lightness: -6%);
      }
    }
  }

  &_variant_success {
    .alert_title {
      color: token.$color_success;
    }

    .alert_button_confirm {
      background: token.$color_success;
      border-color: token.$color_success;

      &:hover:not(:disabled) {
        background: color.adjust(token.$color_success, $lightness: -6%);
        border-color: color.adjust(token.$color_success, $lightness: -6%);
      }
    }
  }

  &_variant_warning {
    .alert_title {
      color: token.$color_warning;
    }

    .alert_button_confirm {
      background: token.$color_warning;
      border-color: token.$color_warning;

      &:hover:not(:disabled) {
        background: color.adjust(token.$color_warning, $lightness: -6%);
        border-color: color.adjust(token.$color_warning, $lightness: -6%);
      }
    }
  }

  &_variant_error {
    .alert_title {
      color: token.$color_error;
    }

    .alert_button_confirm {
      background: token.$color_error;
      border-color: token.$color_error;

      &:hover:not(:disabled) {
        background: color.adjust(token.$color_error, $lightness: -6%);
        border-color: color.adjust(token.$color_error, $lightness: -6%);
      }
    }
  }
}
